# Calvin CLI åŠ¨ç”»ä¸ç‰¹æ•ˆè®¾è®¡åŸåˆ™

> **ç‰ˆæœ¬**: v0.3.0  
> **æ—¥æœŸ**: 2025-12-18  
> **çŠ¶æ€**: Draft  
> **å¯¹æ ‡**: Claude Code CLI ä½“éªŒ

---

## æ ¸å¿ƒç†å¿µ

```
+==============================================================+
|                                                              |
|   CLI ä¸åªæ˜¯è¾“å‡ºæ–‡æœ¬ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®æ—¶å“åº”çš„äº¤äº’ç•Œé¢                   |
|                                                              |
|   åŠ¨ç”»è®©ç­‰å¾…å˜å¾—å¯é¢„æœŸï¼Œç‰¹æ•ˆè®©æˆåŠŸå˜å¾—æœ‰ä»ªå¼æ„Ÿ                     |
|                                                              |
|   ç»Ÿä¸€çš„è®¾è®¡é£æ ¼æ˜¯ä¸“ä¸šæ„Ÿçš„åŸºç¡€                                   |
|                                                              |
+==============================================================+
```

---

## è®¾è®¡çº¦æŸï¼ˆå¿…é¡»éµå®ˆï¼‰

### DC-1: ç»Ÿä¸€è®¾è®¡é£æ ¼

```
æ‰€æœ‰ UI è¾“å‡ºå¿…é¡»éµå¾ªç»Ÿä¸€çš„è§†è§‰è§„èŒƒï¼š

1. è¾¹æ¡†æ ·å¼ç»Ÿä¸€
   âœ“ ä½¿ç”¨åœ†è§’è¾¹æ¡†: â•­ â•® â•° â•¯ â”‚ â”€
   âœ“ åˆ†éš”çº¿: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   âœ— ç¦æ­¢æ··ç”¨: +---, ===, ***, ###

2. ç¼©è¿›å±‚çº§ç»Ÿä¸€
   é¡¶å±‚æ ‡é¢˜: æ— ç¼©è¿›
   é¡¹ç›®åˆ—è¡¨: 2ç©ºæ ¼ç¼©è¿›
   å­é¡¹ç›®:   4ç©ºæ ¼ç¼©è¿›
   è¯¦æƒ…ä¿¡æ¯: 6ç©ºæ ¼ç¼©è¿›

3. çŠ¶æ€å›¾æ ‡ç»Ÿä¸€
   âœ“ æˆåŠŸ/å®Œæˆ
   âœ— å¤±è´¥/é”™è¯¯
   âš  è­¦å‘Š/æ³¨æ„
   â— è¿›è¡Œä¸­
   â—‹ å¾…å¤„ç†
   â†³ å­ä¿¡æ¯/æç¤º
```

### DC-2: ç²¾é€‰é¢œè‰²ï¼ˆä»…ä½¿ç”¨ 5 ç§ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Calvin è°ƒè‰²æ¿ (ä¸¥æ ¼é™åˆ¶)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  1. ç»¿è‰² (Green)    #22C55E    æˆåŠŸã€å®Œæˆã€å®‰å…¨             â”‚
â”‚     ç”¨äº: âœ“ å›¾æ ‡ã€æˆåŠŸæ¶ˆæ¯ã€å®‰å…¨çŠ¶æ€                         â”‚
â”‚                                                            â”‚
â”‚  2. çº¢è‰² (Red)      #EF4444    é”™è¯¯ã€å¤±è´¥ã€å±é™©             â”‚
â”‚     ç”¨äº: âœ— å›¾æ ‡ã€é”™è¯¯æ¶ˆæ¯ã€å±é™©è­¦å‘Š                         â”‚
â”‚                                                            â”‚
â”‚  3. é»„è‰² (Yellow)   #F59E0B    è­¦å‘Šã€æ³¨æ„ã€è¿›è¡Œä¸­           â”‚
â”‚     ç”¨äº: âš  å›¾æ ‡ã€è­¦å‘Šæ¶ˆæ¯ã€spinner                         â”‚
â”‚                                                            â”‚
â”‚  4. è“è‰² (Cyan)     #06B6D4    ä¿¡æ¯ã€é“¾æ¥ã€æ ‡é¢˜             â”‚
â”‚     ç”¨äº: æ ‡é¢˜ã€å‘½ä»¤æç¤ºã€å¯äº¤äº’å…ƒç´                          â”‚
â”‚                                                            â”‚
â”‚  5. ç°è‰² (Dim)      #6B7280    æ¬¡è¦ä¿¡æ¯ã€ç¦ç”¨ã€æ³¨é‡Š         â”‚
â”‚     ç”¨äº: è·¯å¾„ã€æ—¶é—´æˆ³ã€æç¤ºæ–‡å­—ã€è¾¹æ¡†                       â”‚
â”‚                                                            â”‚
â”‚  é»˜è®¤: ç™½è‰²/æ— è‰²    ç”¨äºä¸»è¦å†…å®¹æ–‡æœ¬                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¦æ­¢äº‹é¡¹:
  âœ— ä½¿ç”¨ç´«è‰²ã€ç²‰è‰²ã€æ©™è‰²ç­‰å…¶ä»–é¢œè‰²
  âœ— åŒä¸€è¡Œä½¿ç”¨è¶…è¿‡ 2 ç§é¢œè‰²
  âœ— å¤§æ®µæ–‡å­—ä½¿ç”¨é¢œè‰²
  âœ— ä¸ºäº†"å¥½çœ‹"éšæ„æ·»åŠ é¢œè‰²
```

### DC-3: UI ä»£ç å¿…é¡»é›†ä¸­ç®¡ç†

```
æ‰€æœ‰ UI ç›¸å…³ä»£ç å¿…é¡»æ”¾åœ¨ src/ui/ ç›®å½•ä¸‹ï¼Œé‡‡ç”¨åˆ†å±‚æ¶æ„ï¼š

src/ui/
â”œâ”€â”€ mod.rs              # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ theme.rs            # è®¾è®¡ä»¤ç‰Œï¼ˆé¢œè‰²ã€å›¾æ ‡ã€è¾¹æ¡†ï¼‰
â”œâ”€â”€ terminal.rs         # ç»ˆç«¯èƒ½åŠ›æ£€æµ‹
â”œâ”€â”€ render.rs           # æ¸²æŸ“å¼•æ“ã€ç¼“å†²ç®¡ç†
â”‚
â”œâ”€â”€ primitives/         # åŸå­ç»„ä»¶ï¼ˆä¸å¯å†åˆ†ï¼‰
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ text.rs         # å¸¦é¢œè‰²çš„æ–‡æœ¬
â”‚   â”œâ”€â”€ icon.rs         # çŠ¶æ€å›¾æ ‡
â”‚   â””â”€â”€ border.rs       # è¾¹æ¡†å­—ç¬¦
â”‚
â”œâ”€â”€ widgets/            # åŸºç¡€ç»„ä»¶ï¼ˆç”± primitives ç»„åˆï¼‰
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ spinner.rs      # åŠ è½½åŠ¨ç”»
â”‚   â”œâ”€â”€ progress.rs     # è¿›åº¦æ¡
â”‚   â”œâ”€â”€ list.rs         # çŠ¶æ€åˆ—è¡¨
â”‚   â””â”€â”€ box.rs          # è¾¹æ¡†å®¹å™¨
â”‚
â”œâ”€â”€ blocks/             # å¤åˆç»„ä»¶ï¼ˆä¸šåŠ¡ç›¸å…³ï¼‰
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ header.rs       # å‘½ä»¤å¤´éƒ¨
â”‚   â”œâ”€â”€ summary.rs      # ç»“æœæ‘˜è¦æ¡†
â”‚   â”œâ”€â”€ error.rs        # é”™è¯¯å±•ç¤ºæ¡†
â”‚   â””â”€â”€ check_item.rs   # æ£€æŸ¥é¡¹
â”‚
â””â”€â”€ views/              # å®Œæ•´è§†å›¾ï¼ˆå¯¹åº”å‘½ä»¤è¾“å‡ºï¼‰
    â”œâ”€â”€ mod.rs
    â”œâ”€â”€ deploy.rs       # deploy å‘½ä»¤è§†å›¾
    â”œâ”€â”€ check.rs        # check å‘½ä»¤è§†å›¾
    â”œâ”€â”€ watch.rs        # watch å‘½ä»¤è§†å›¾
    â””â”€â”€ interactive.rs  # äº¤äº’å¼èœå•è§†å›¾

ç»„ä»¶è®¾è®¡åŸåˆ™:
  âœ“ primitives: åªä¾èµ– theme.rsï¼Œæ— ä¸šåŠ¡é€»è¾‘
  âœ“ widgets: ç»„åˆ primitivesï¼Œé€šç”¨å¯å¤ç”¨
  âœ“ blocks: ç»„åˆ widgetsï¼Œå°è£…ä¸šåŠ¡æ¨¡å¼
  âœ“ views: ç»„åˆ blocksï¼Œå¯¹åº”å…·ä½“å‘½ä»¤

ç¦æ­¢äº‹é¡¹:
  âœ— åœ¨ commands/*.rs ä¸­ç›´æ¥è¾“å‡ºæ ¼å¼åŒ–æ–‡æœ¬
  âœ— åœ¨é ui/ æ¨¡å—ä¸­ä½¿ç”¨é¢œè‰²æˆ– ANSI ç 
  âœ— ç¡¬ç¼–ç çŠ¶æ€å›¾æ ‡ï¼ˆå¿…é¡»ä½¿ç”¨ theme.rs å¸¸é‡ï¼‰
  âœ— è·¨å±‚çº§ä¾èµ–ï¼ˆviews ä¸èƒ½ç›´æ¥ä¾èµ– primitivesï¼‰
```


---

## è®¾è®¡åŸåˆ™

### AP-1: åŠ¨ç”»æœåŠ¡äºåŠŸèƒ½

```
é”™è¯¯ç¤ºèŒƒ: ä¸ºäº†ç‚«é…·è€ŒåŠ åŠ¨ç”»ï¼Œè®©ç”¨æˆ·ç­‰å¾…ä¸å¿…è¦çš„æ—¶é—´
æ­£ç¡®åšæ³•: åŠ¨ç”»ç”¨äºå¡«å……çœŸå®çš„ç­‰å¾…æ—¶é—´ï¼Œä¼ é€’è¿›åº¦ä¿¡æ¯

åŸåˆ™:
  - ç¬æ—¶æ“ä½œ (<100ms) ä¸éœ€è¦åŠ¨ç”»
  - çŸ­æ“ä½œ (100ms-500ms) ä½¿ç”¨ç®€å•æŒ‡ç¤ºå™¨
  - é•¿æ“ä½œ (>500ms) ä½¿ç”¨è¿›åº¦åé¦ˆ
  - ä¸ç¡®å®šæ—¶é•¿çš„æ“ä½œä½¿ç”¨ spinner
```

**éªŒè¯æ–¹å¼**: åˆ é™¤æ‰€æœ‰åŠ¨ç”»åï¼Œå·¥å…·åº”è¯¥åŒæ ·å¯ç”¨

---

### AP-2: æ¸è¿›å¼è§†è§‰åé¦ˆ

```
+------------------+------------------------------------------+
| æ“ä½œæ—¶é•¿          | è§†è§‰åé¦ˆ                                  |
+------------------+------------------------------------------+
| <100ms           | æ— åŠ¨ç”»ï¼Œç›´æ¥æ˜¾ç¤ºç»“æœ                        |
| 100ms-500ms      | ç®€å• spinner (â ‹â ™â ¹â ¸â ¼â ´â ¦â §â ‡â )               |
| 500ms-5s         | å¸¦æ–‡å­—çš„ spinner + å½“å‰ä»»åŠ¡è¯´æ˜            |
| 5s-30s           | è¿›åº¦æ¡ + é¢„ä¼°å‰©ä½™æ—¶é—´                       |
| >30s             | è¯¦ç»†è¿›åº¦ + é˜¶æ®µæŒ‡ç¤ºå™¨ + å¯å–æ¶ˆæç¤º           |
+------------------+------------------------------------------+
```

---

### AP-3: ç»ˆç«¯å…¼å®¹æ€§ä¼˜å…ˆ

```
å±‚çº§:
  1. æ ¸å¿ƒåŠŸèƒ½: å¿…é¡»åœ¨ä»»ä½•ç»ˆç«¯å·¥ä½œ (æ— é¢œè‰²ã€æ— åŠ¨ç”»)
  2. åŸºç¡€å¢å¼º: ANSI é¢œè‰² (å‡ ä¹æ‰€æœ‰ç°ä»£ç»ˆç«¯æ”¯æŒ)
  3. é«˜çº§ç‰¹æ•ˆ: 256è‰²/True Colorã€åŠ¨ç”»ã€Unicode

æ£€æµ‹ç­–ç•¥:
  - NO_COLOR ç¯å¢ƒå˜é‡ â†’ ç¦ç”¨é¢œè‰²
  - é TTY è¾“å‡º â†’ ç¦ç”¨åŠ¨ç”»
  - TERM=dumb â†’ ç¦ç”¨æ‰€æœ‰å¢å¼º
  - CI=true â†’ ç®€åŒ–è¾“å‡ºæ¨¡å¼
```

**é…ç½®**:
```toml
[output]
color = "auto"         # auto | always | never
animation = "auto"     # auto | always | never | minimal
unicode = true         # å…è®¸ä½¿ç”¨ Unicode å­—ç¬¦
```

---

### AP-4: ä¸€è‡´çš„è§†è§‰è¯­è¨€

```
çŠ¶æ€å›¾æ ‡å¿…é¡»ä½¿ç”¨ theme.rs ä¸­çš„å¸¸é‡:

pub mod icons {
    pub const SUCCESS: &str = "âœ“";
    pub const ERROR: &str = "âœ—";
    pub const WARNING: &str = "âš ";
    pub const PROGRESS: &str = "â—";
    pub const PENDING: &str = "â—‹";
    pub const ARROW: &str = "â†³";
}

ASCII fallback (è‡ªåŠ¨æ£€æµ‹):
  [OK]    æˆåŠŸ
  [FAIL]  å¤±è´¥
  [WARN]  è­¦å‘Š
  [..]    è¿›è¡Œä¸­
  [ ]     å¾…å¤„ç†
  [>]     å­ä¿¡æ¯

é¢œè‰²å¿…é¡»ä½¿ç”¨ theme.rs ä¸­çš„å¸¸é‡ (ä»… 5 ç§):

pub mod colors {
    pub const SUCCESS: Color = Color::Green;   // #22C55E
    pub const ERROR: Color = Color::Red;       // #EF4444
    pub const WARNING: Color = Color::Yellow;  // #F59E0B
    pub const INFO: Color = Color::Cyan;       // #06B6D4
    pub const DIM: Color = Color::DarkGray;    // #6B7280
}
```

---

### AP-5: ä¸Šä¸‹æ–‡æ„ŸçŸ¥è¾“å‡º

```
æ ¹æ®æ‰§è¡Œç¯å¢ƒè°ƒæ•´è¾“å‡º:

å¼€å‘ç¯å¢ƒ (TTY + äº¤äº’å¼):
  - å®Œæ•´åŠ¨ç”»å’Œé¢œè‰²
  - äº¤äº’å¼æç¤º
  - å®æ—¶è¿›åº¦æ›´æ–°

CI/CD ç¯å¢ƒ:
  - ç®€åŒ–è¾“å‡º (æ— åŠ¨ç”»)
  - é˜¶æ®µæ€§è¿›åº¦æŠ¥å‘Š
  - ç»“æ„åŒ–æ—¥å¿—æ ¼å¼

ç®¡é“è¾“å‡º (stdout â†’ file/pipe):
  - çº¯æ–‡æœ¬è¾“å‡º
  - æ— é¢œè‰²ç 
  - æ— è¿›åº¦è¦†ç›–
```

---

### AP-6: æµå¼å“åº”ä½“éªŒ

```
æ¨¡ä»¿ Claude Code çš„æµå¼è¾“å‡ºæ„Ÿ:

ä¼ ç»Ÿè¾“å‡º:
  [ç­‰å¾…...ç­‰å¾…...ç­‰å¾…...]
  ç»“æœä¸€æ¬¡æ€§è¾“å‡º

æµå¼è¾“å‡º:
  Compiling prompts...
    âœ“ actions/review.md
    âœ“ actions/test.md    â† å®æ—¶æ˜¾ç¤ºæ¯ä¸ªå®Œæˆçš„é¡¹
    â— policies/style.md  â† å½“å‰å¤„ç†é¡¹
    â—‹ agents/helper.md   â† å¾…å¤„ç†é¡¹

å…³é”®æŠ€æœ¯:
  - ä½¿ç”¨ ANSI å…‰æ ‡æ§åˆ¶å®ç°è¡Œæ›´æ–°
  - åŒºåˆ†"è¦†ç›–æ›´æ–°"å’Œ"è¿½åŠ è¾“å‡º"
  - ä¿æŒç»ˆç«¯æ»šåŠ¨åŒºåŸŸæ•´æ´
```

---

### AP-7: é”™è¯¯çŠ¶æ€å¯è§†åŒ–

```
é”™è¯¯ä¸ä»…æ˜¯æ–‡æœ¬ï¼Œä¹Ÿæ˜¯è§†è§‰ä½“éªŒ:

æ™®é€šé”™è¯¯ (æ¡† + é¢œè‰²):
â”Œâ”€ ERROR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  .promptpack/actions/review.md                               â”‚
â”‚  Line 2: missing required field 'description'                â”‚
â”‚                                                              â”‚
â”‚  FIX: Add 'description' to the frontmatter:                  â”‚
â”‚       ---                                                    â”‚
â”‚       description: "Your description here"                   â”‚
â”‚       ---                                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸¥é‡é”™è¯¯ (é—ªçƒè­¦å‘Š):
âš  âš  âš   SECURITY ALERT  âš  âš  âš 
  allow_naked = true detected
  All security protections are disabled!
```

---

### AP-8: æˆåŠŸä»ªå¼æ„Ÿ

```
è®©æˆåŠŸå˜å¾—æœ‰æ„ä¹‰:

ç®€å•æˆåŠŸ:
  âœ“ Deployed 12 prompts to 3 targets

å®Œæ•´æˆåŠŸ (å¯é€‰å±•å¼€):
  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  â”‚                                               â”‚
  â”‚   âœ“ Deploy Complete                           â”‚
  â”‚                                               â”‚
  â”‚   12 prompts â†’ 3 targets                      â”‚
  â”‚   0 warnings, 0 errors                        â”‚
  â”‚                                               â”‚
  â”‚   Run 'calvin check' to verify                â”‚
  â”‚                                               â”‚
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

å¤§ç‰ˆæœ¬å‡çº§/é‡Œç¨‹ç¢‘:
  ğŸ‰ Calvin v0.3.0 - Animation Edition
  See what's new: https://calvin.dev/changelog
```

---

### AP-9: å¯ä¸­æ–­çš„æ“ä½œ

```
é•¿æ—¶é—´æ“ä½œå¿…é¡»å¯å–æ¶ˆ:

  Syncing to remote...
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  45%
  Press Ctrl+C to cancel

å–æ¶ˆæ—¶ä¼˜é›…é€€å‡º:
  
  ^C
  Cancelling... cleaning up partial files...
  âœ“ Sync cancelled. Your project is unchanged.
```

---

### AP-10: Spinner è®¾è®¡è§„èŒƒ

```
é»˜è®¤ Spinner åºåˆ— (Braille):
  â ‹ â ™ â ¹ â ¸ â ¼ â ´ â ¦ â § â ‡ â 
  
å¤‡é€‰ Spinner (ASCII):
  - \ | / - \ | /

Spinner é€Ÿåº¦:
  - æ ‡å‡†: 80ms/å¸§
  - å¿«é€Ÿ: 50ms/å¸§ (çŸ­æ“ä½œ)
  - æ…¢é€Ÿ: 120ms/å¸§ (é•¿æ“ä½œï¼Œå‡å°‘ CPU)

Spinner çŠ¶æ€å˜åŒ–:
  â ‹ Loading...          (è¿›è¡Œä¸­)
  âœ“ Loading complete    (æˆåŠŸ - spinner æ›¿æ¢ä¸º âœ“)
  âœ— Loading failed      (å¤±è´¥ - spinner æ›¿æ¢ä¸º âœ—)
```

---

### AP-11: SSH/è¿œç¨‹ä¼ è¾“è¿›åº¦

```
è¿œç¨‹åŒæ­¥ (calvin deploy --remote) çš„è§†è§‰åé¦ˆ:

è¿æ¥é˜¶æ®µ:
  â ‹ Connecting to user@server.example.com...
  âœ“ Connected (SSH key authenticated)

ä¼ è¾“é˜¶æ®µ (å¸¦è¿›åº¦):
  Syncing to remote server...
  
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ“¤ Uploading to user@server.example.com             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                      â”‚
  â”‚  âœ“ .claude/commands/review.md         (2.1 KB)       â”‚
  â”‚  âœ“ .claude/commands/test.md           (1.8 KB)       â”‚
  â”‚  â— .cursor/rules/style.md             (uploading...) â”‚
  â”‚  â—‹ .cursor/commands/review.md                        â”‚
  â”‚  â—‹ ...                                               â”‚
  â”‚                                                      â”‚
  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  12/24 (50%)           â”‚
  â”‚  Speed: 1.2 MB/s  |  ETA: 3s                         â”‚
  â”‚                                                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®Œæˆæ‘˜è¦:
  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  â”‚  âœ“ Remote Deploy Complete                       â”‚
  â”‚                                                 â”‚
  â”‚  24 files uploaded to user@server.example.com  â”‚
  â”‚  Total: 48.2 KB in 8s (6.0 KB/s)               â”‚
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

é”™è¯¯å¤„ç†:
  âœ— Connection failed: Permission denied (publickey)
  
  â†³ Check your SSH key configuration:
    ssh-add ~/.ssh/id_ed25519

ç½‘ç»œä¸­æ–­æ¢å¤:
  âš  Connection interrupted, retrying (1/3)...
  âœ“ Reconnected, resuming from file 12/24
```

---

### AP-12: éƒ¨ç½²è¿›åº¦è¯¦ç»†åé¦ˆ

```
éƒ¨ç½²æ“ä½œåº”åˆ†é˜¶æ®µæ˜¾ç¤ºè¿›åº¦:

é˜¶æ®µ 1: æ‰«æ
  â ‹ Scanning .promptpack/...
  âœ“ Found 36 prompts, 5 policies, 2 agents

é˜¶æ®µ 2: ç¼–è¯‘
  â ‹ Compiling assets...
  
  actions/          [12/12] âœ“
  policies/         [5/5]   âœ“  
  agents/           [2/2]   âœ“
  
  âœ“ Compiled to 110 output files

é˜¶æ®µ 3: å†™å…¥
  â ‹ Writing files...
  
  Claude Code       [24/24] âœ“
  Cursor            [24/24] âœ“
  Antigravity       [24/24] âœ“
  
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  72/72 (100%)

é˜¶æ®µ 4: å®Œæˆæ±‡æ€»
  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  â”‚  âœ“ Deploy Complete                              â”‚
  â”‚                                                 â”‚
  â”‚  36 assets â†’ 3 targets                          â”‚
  â”‚  110 files written                              â”‚
  â”‚  0 skipped, 0 errors                            â”‚
  â”‚                                                 â”‚
  â”‚  Time: 2.3s                                     â”‚
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

---

## æŠ€æœ¯çº¦æŸ

### åº“é€‰æ‹©ç­–ç•¥

```
+------------------+------------------------------------------+
| åŠŸèƒ½              | æ¨èåº“                                    |
+------------------+------------------------------------------+
| ç»ˆç«¯æ§åˆ¶          | crossterm (è·¨å¹³å°)                        |
| è¿›åº¦æ¡            | indicatif (å¯é€‰) æˆ– è‡ªè¡Œå®ç°              |
| é¢œè‰²              | owo-colors (è½»é‡)                         |
| Unicode å®½åº¦      | unicode-width                             |
| åŠ¨ç”»å¸§æ§åˆ¶        | è‡ªå®šä¹‰ + std::thread (åŒæ­¥)               |
+------------------+------------------------------------------+

æ³¨æ„: é¿å…å¼•å…¥ tokio ä»…ä¸ºåŠ¨ç”»ï¼Œä¿æŒåŒæ­¥å®ç°ä»¥å‡å°‘å¤æ‚åº¦
```

### æ€§èƒ½é¢„ç®—

```
åŠ¨ç”»ç›¸å…³ CPU ä½¿ç”¨:
  - Spinner: <1% CPU
  - è¿›åº¦æ¡: <1% CPU
  - å¤æ‚ç•Œé¢: <5% CPU

äºŒè¿›åˆ¶å¤§å°å½±å“:
  - crossterm: +~100KB
  - owo-colors: +~10KB
  - unicode-width: +~5KB
  
  æ€»å¢åŠ : <200KB (ä¸¥æ ¼æ§åˆ¶)
```

---

## è®¾è®¡åŸåˆ™æ£€æŸ¥æ¸…å•

### è®¾è®¡çº¦æŸï¼ˆå¼ºåˆ¶ï¼‰

- [ ] é¢œè‰²æ˜¯å¦ä»…ä½¿ç”¨ 5 ç§ç²¾é€‰è‰²ï¼Ÿ(DC-2)
- [ ] çŠ¶æ€å›¾æ ‡æ˜¯å¦ä½¿ç”¨ theme.rs å¸¸é‡ï¼Ÿ(DC-3)
- [ ] UI ä»£ç æ˜¯å¦å…¨éƒ¨åœ¨ src/ui/ ç›®å½•ä¸‹ï¼Ÿ(DC-3)
- [ ] è¾¹æ¡†æ ·å¼æ˜¯å¦ç»Ÿä¸€ä½¿ç”¨åœ†è§’ï¼Ÿ(DC-1)

### è®¾è®¡åŸåˆ™

- [ ] åŠ¨ç”»æ˜¯å¦æœåŠ¡äºåŠŸèƒ½è€Œéè£…é¥°ï¼Ÿ(AP-1)
- [ ] æ˜¯å¦æ ¹æ®æ“ä½œæ—¶é•¿é€‰æ‹©äº†åˆé€‚çš„åé¦ˆæ–¹å¼ï¼Ÿ(AP-2)
- [ ] æ˜¯å¦å¤„ç†äº†æ— è‰²/æ— åŠ¨ç”»ç¯å¢ƒï¼Ÿ(AP-3)
- [ ] çŠ¶æ€å›¾æ ‡å’Œé¢œè‰²æ˜¯å¦ä¸€è‡´ï¼Ÿ(AP-4)
- [ ] æ˜¯å¦æ£€æµ‹äº† CI/ç®¡é“ç¯å¢ƒï¼Ÿ(AP-5)
- [ ] æ˜¯å¦å®ç°äº†æµå¼è¾“å‡ºä½“éªŒï¼Ÿ(AP-6)
- [ ] é”™è¯¯æ˜¯å¦æœ‰è¶³å¤Ÿçš„è§†è§‰åŒºåˆ†ï¼Ÿ(AP-7)
- [ ] æˆåŠŸçŠ¶æ€æ˜¯å¦æœ‰é€‚å½“çš„ä»ªå¼æ„Ÿï¼Ÿ(AP-8)
- [ ] é•¿æ“ä½œæ˜¯å¦å¯ä¸­æ–­ï¼Ÿ(AP-9)
- [ ] Spinner æ˜¯å¦éµå¾ªè®¾è®¡è§„èŒƒï¼Ÿ(AP-10)
- [ ] SSH ä¼ è¾“æ˜¯å¦æœ‰è¿›åº¦åé¦ˆï¼Ÿ(AP-11)
- [ ] éƒ¨ç½²æ˜¯å¦åˆ†é˜¶æ®µæ˜¾ç¤ºè¿›åº¦ï¼Ÿ(AP-12)

---

## ç›¸å…³æ–‡æ¡£

- [äº§å“åæ€](./product-reflection.md) - è¯¦ç»†çš„ç”¨æˆ·ä½“éªŒæµç¨‹è®¾è®¡
- [TODO](./TODO.md) - å®ç°ä»»åŠ¡æ¸…å•
- [ç°æœ‰è®¾è®¡åŸåˆ™](../calvin/design-principles.md) - v0.2.0 è®¾è®¡åŸåˆ™
