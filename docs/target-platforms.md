# Target Platforms Reference

> Last Updated: December 2025

This document tracks the current state of Calvin's target platforms and their output formats.

---

## Platform Overview

| Platform | Type | Current Version | Model | Status |
|----------|------|-----------------|-------|--------|
| **Claude Code** | CLI + VS Code Extension | 2.0.70 | Claude Sonnet 4.5 | Stable |
| **Cursor** | IDE (VS Code fork) | 2.2 | Multi-model | Stable |
| **VS Code + Copilot** | IDE + Extension | 1.95+ | GPT-4 / Claude | Stable |
| **Antigravity** | IDE (VS Code fork) | 1.11.17 Preview | Gemini 3 Pro | Beta |
| **Codex** | CLI | 0.72.0 | GPT-5-codex | Experimental |

---

## Claude Code

**Vendor**: Anthropic  
**Latest Version**: 2.0.70 (December 16, 2025)  
**Model**: Claude Sonnet 4.5

### Recent Changes (v2.0.70)

- Fixed terminal flickering issues
- 3x memory optimization for large conversations
- MCP tool permission wildcards support

### Output Locations

| Asset Type | Output Path | Scope |
|------------|-------------|-------|
| Commands | `.claude/commands/<id>.md` | Project |
| Commands | `~/.claude/commands/<id>.md` | User |
| Settings | `.claude/settings.json` | Project |
| Settings Local | `.claude/settings.local.json` | Project (gitignored) |
| Agents | `.claude/agents/<id>.md` | Project |
| Agents | `~/.claude/agents/<id>.md` | User |
| Skills | `.claude/skills/<id>/SKILL.md` | Project |
| Skills | `~/.claude/skills/<id>/SKILL.md` | User |
| Memory | `CLAUDE.md` | Project |

### Format: Commands

```markdown
<!-- Generated by Calvin. Source: .promptpack/1-planning/1-plan-init-project.md -->

# Project Initialization

Arguments: $ARGUMENTS

[... prompt content ...]
```

### Format: Settings

```json
{
  "permissions": {
    "deny": [".env", ".env.*", "*.pem", "*.key", "id_rsa", ".git/"]
  }
}
```

### Format: Agents

Claude Code agents use YAML frontmatter with specific fields for subagent configuration:

```markdown
---
name: code-reviewer
description: Use proactively to review code changes for security, performance, and maintainability.
tools: Read, Grep, Glob, Bash
model: sonnet
permissionMode: acceptEdits
skills: engineering-standards
---

You are a senior code reviewer. Analyze changes and provide:
- Security concerns (with severity)
- Performance implications
- Suggested improvements with minimal diff

Do NOT make changes directly. Output actionable review comments.

<!-- Generated by Calvin. Source: .promptpack/agents/reviewer.md. DO NOT EDIT. -->
```

| Field | Required | Description |
|-------|----------|-------------|
| `name` | Yes | Agent identifier for routing |
| `description` | Yes | Used by Claude for auto-delegation decisions |
| `tools` | No | Comma-separated tool whitelist (inherits all if omitted) |
| `model` | No | `sonnet`, `opus`, `haiku`, or `inherit` |
| `permissionMode` | No | How to handle permission prompts |
| `skills` | No | Comma-separated skills to preload |

---

## Cursor

**Vendor**: Cursor Inc.  
**Latest Version**: 2.2 (December 10, 2025)  
**Model**: Multi-model (Claude, GPT-4, etc.)

### Recent Changes (v2.2)

- **Debug Mode**: AI-assisted bug reproduction and fixing
- **Plan Mode**: Enhanced "think before code" capability
- **Agent Review**: Dedicated code review agent in sidebar

### Output Locations

| Asset Type | Output Path | Scope |
|------------|-------------|-------|
| Rules | `.cursor/rules/<id>/RULE.md` | Project |
| Commands | `.cursor/commands/<id>.md` | Project |
| Agents (fallback) | `.cursor/commands/<id>.md` | Project |
| MCP Config (manual; validated by `calvin check`) | `.cursor/mcp.json` | Project |
| Skills | `.claude/skills/<id>/SKILL.md` | Project |
| Skills | `~/.claude/skills/<id>/SKILL.md` | User |

**Note**: Cursor skill support uses Claude Code's skill paths (`.claude/skills/`).
**Note**: Agents are compiled to `.cursor/commands/` only when Claude Code target is NOT enabled. When both are enabled, agents go to `.claude/agents/` only.
**Note**: Calvin does not currently generate `.cursor/mcp.json`; it only validates it (allowlist + JSON schema) when present.

### Format: Rules

```markdown
---
description: Code Style Guidelines
globs: ["**/*.ts", "**/*.tsx"]
alwaysApply: true
---

# Code Style Guidelines

[... policy content ...]
```

### Format: Commands

```markdown
<!-- Generated by Calvin -->

# Generate Tests

$ARGUMENTS

[... action content ...]
```

---

## VS Code + GitHub Copilot

**Vendor**: Microsoft / GitHub  
**Latest Version**: VS Code 1.95+  
**Model**: GPT-4, Claude (configurable)

### Output Locations

| Asset Type | Output Path | Scope |
|------------|-------------|-------|
| Instructions (merged) | `.github/copilot-instructions.md` | Project |
| Instructions (split) | `.github/instructions/<id>.instructions.md` | Project |
| Agents | `.github/instructions/<id>.instructions.md` | Project |
| Agents Summary | `AGENTS.md` | Project |

**Note**: Agents are compiled as instruction files and also listed in the `AGENTS.md` summary.

### Format: Instructions

```markdown
---
applyTo: "**/*.py"
---

# Python Code Style

[... policy content ...]
```

### Notes

- Instructions only affect Chat, not inline completions
- `chat.useAgentsMdFile` setting must be enabled for AGENTS.md
- Skills are not supported on VS Code + Copilot.

---

## Antigravity

**Vendor**: Google DeepMind  
**Latest Version**: 1.11.17 Preview (December 8, 2025)  
**Model**: Gemini 3 Pro

### About

Antigravity is Google's **agent-first IDE**, launched November 18, 2025. It's not just code completion—it's a "task control center" where AI agents autonomously:
- Write and modify code
- Run terminal commands
- Operate browsers for testing
- Collaborate asynchronously

### Output Locations

| Asset Type | Output Path | Scope |
|------------|-------------|-------|
| Rules | `.agent/rules/<id>.md` | Project |
| Workflows | `.agent/workflows/<id>.md` | Project |
| Agents | `.agent/workflows/<id>.md` | Project |
| Rules (global) | `~/.gemini/antigravity/global_rules/` | User |
| Workflows (global) | `~/.gemini/antigravity/global_workflows/` | User |
| Browser Allowlist | `~/.gemini/antigravity/browserAllowlist.txt` | User |

**Note**: Antigravity does not support `SKILL.md` skills.
**Note**: Agents are compiled as workflows; agent-specific fields (`tools`, `model`, `permissionMode`, `skills`) are ignored.

### Format: Workflows

```markdown
---
description: Generate Tests
---

# Generate Unit Tests

[... workflow content ...]
```

### Security Modes

| Mode | Description |
|------|-------------|
| Off | No auto-execution |
| Auto (Balanced) | Prompt for approval |
| Turbo | Auto-execute (dangerous) |

Calvin defaults to recommending **Auto** mode.

---

## Codex

**Vendor**: OpenAI  
**Latest Version**: 0.72.0 (December 13, 2025)  
**Model**: gpt-5-codex / gpt-5.1-codex-max

### About

Codex is OpenAI's CLI programming agent, installed via:
```bash
npm install -g @openai/codex
```

### Output Locations

| Asset Type | Output Path | Scope |
|------------|-------------|-------|
| Prompts | `.codex/prompts/<id>.md` | Project |
| Prompts | `~/.codex/prompts/<id>.md` | User |
| Agents | `.codex/prompts/<id>.md` | Project |
| Agents | `~/.codex/prompts/<id>.md` | User |
| Skills | `.codex/skills/<id>/SKILL.md` | Project |
| Skills | `~/.codex/skills/<id>/SKILL.md` | User |

**Note**: Agents are compiled as prompts with `$ARGUMENTS` placeholder; agent-specific fields are ignored.

### Format: Prompts

```markdown
<!-- Generated by Calvin -->

# Generate Tests

Usage: /prompts:generate-tests <target_file>

Arguments: $ARGUMENTS
- $1: Target file or function

[... prompt content ...]
```

### Parameter Placeholders

| Placeholder | Description |
|-------------|-------------|
| `$ARGUMENTS` | All arguments as string |
| `$1` - `$9` | Positional arguments |
| `$KEY` | Named argument (KEY=value) |

---

## Adapter Compatibility Matrix

| Feature | Claude Code | Cursor | VS Code | Antigravity | Codex |
|---------|-------------|--------|---------|-------------|-------|
| Project-scope commands | ✅ | ✅ | ⚠️ | ✅ | ❌ |
| User-scope commands | ✅ | ⚠️ | ❌ | ✅ | ✅ |
| Policy/Rules | ✅ | ✅ | ✅ | ✅ | ❌ |
| Settings/Deny lists | ✅ | ⚠️ | ❌ | ⚠️ | ❌ |
| MCP allowlist validation | ❌ | ✅ | ❌ | ❌ | ❌ |
| Agents/Subagents | ✅ | ⚠️¹ | ⚠️² | ⚠️³ | ⚠️³ |
| Skills | ✅ | ✅ | ❌ | ❌ | ✅ |

Legend: ✅ Full support | ⚠️ Partial/experimental | ❌ Not supported

**Notes:**

1. **Cursor agents**: Falls back to `.cursor/commands/` when Claude Code is not enabled. When both are enabled, agents go to `.claude/agents/` only.
2. **VS Code agents**: Compiled as instructions (`.github/instructions/<id>.instructions.md`) and listed in `AGENTS.md`.
3. **Antigravity/Codex agents**: Compiled as workflows/prompts; agent-specific fields (`tools`, `model`, etc.) are ignored.

---

## Version Tracking

Calvin exposes Calvin + adapter versions via `calvin version`:

```bash
$ calvin version

╭─────────────────────╮
│ Calvin v0.6.0       │
│ Source Format: 1.0  │
│                     │
│ Adapters:           │
│   - ClaudeCode   v1 │
│   - Cursor       v1 │
│   - VSCode       v1 │
│   - Antigravity  v1 │
│   - Codex        v1 │
╰─────────────────────╯
```
